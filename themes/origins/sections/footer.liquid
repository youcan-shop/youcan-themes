{{ 'layout-footer.css' | asset_url | stylesheet_tag }}

{% assign currentYear = default: 'now' | date: '%Y' %}
{% style %}
  footer {
    --footer-text-color: {{ section.settings.footer_text_color.hex }};
    --footer-border-color: {{ section.settings.vertical_border_color.hex }};
    --footer-bg-color: {{ section.settings.footer_background_color.hex}};
  }
{% endstyle %}

{% if section.settings.toggle_footer == true %}
  <footer>
    <div class="content">
      <div class="store-brand">
        <a href="#">
          {% if section.settings.footer_logo.src %}
            <a href="/" aria-label="home">
              <img
                src="{{ section.settings.footer_logo.src  }}"
                alt="{{ store.name }}"
                height="60"
                width="60"
              >
            </a>
          {% else %}
            <a href="/" class="brand-name">{{ store.name }}</a>
          {% endif %}
        </a>
        {% if section.settings.show_social_links %}
          <ul role="list" class="social-links">
            {% for link in store.brand.social_links %}
              {% assign platform = link[0] %}
              {% assign url = link[1] %}
              {% if url != null %}
                <li>
                  <a class="yc-btn tertiary icon-only" target="_blank" href="{{ url }}" aria-label="{{ platform }}">
                    {% render 'social-icon', name: platform %}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      <div class="links-box">
        {%- for linklist in link-lists -%}
          {%- if linklist.links | count > 0  and linklist != main-link-list -%}
            <div class="navigation">
              <p>{{ linklist.title }}</p>
              <div class="links">
                {%- for item in linklist.links -%}
                  <a href="{{ item.url }}">{{ item.title }}</a>
                {%- endfor -%}
              </div>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
      {% if section.settings.show_social_links %}
        <ul role="list" class="social-links">
          {% for link in store.brand.social_links %}
            {% assign platform = link[0] %}
            {% assign url = link[1] %}
            {% if url != null %}
              <li>
                <a class="yc-btn tertiary icon-only" target="_blank" href="{{ url }}" aria-label="{{ platform }}">
                  {% render 'social-icon', name: platform %}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      {% endif %}
    </div>
    <div class="copyright">
      {{ section.settings.copyright | default: 'footer.copyright.title' | t | replace: '%', currentYear }}
    </div>
  </footer>
{% endif %}

{% schema %}
{
  "label": "Footer",
  "limit": 1,
  "settings": [
    {
      "type": "paragraph",
      "content": "Footer links can be managed from your [menu settings](https:\/\/seller-area.youcan.shop\/admin\/menus)"
    },
    {
      "type": "paragraph",
      "content": "Social links can be managed from your [social media settings](https:\/\/seller-area.youcan.shop\/admin\/settings\/general#social-media)"
    },
    {
      "type": "checkbox",
      "id": "toggle_footer",
      "label": "Show footer",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_social_links",
      "label": "Social Links",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "footer_logo",
      "label": "Logo"
    },
    {
      "type": "color",
      "id": "footer_background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "footer_text_color",
      "label": "Text color",
      "default": "#121212"
    },
    {
      "type": "color",
      "id": "vertical_border_color",
      "label": "Border color",
      "default": "#f3f3f3"
    },
    {
      "type": "richtext",
      "id": "copyright",
      "label": "Copyright text"
    }
  ]
}
{% endschema %}
