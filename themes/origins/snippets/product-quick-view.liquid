<yc-product class="product-quick-view">
  <yc-modal style="--modal-width: 60%">
    <button class="secondary" data-trigger>
      {{ 'general.choose_options' | t }}
    </button>
    <yc-modal-content>
      <div class="view-box">
        <div class="head">
          <button class="icon" data-trigger>
            {% render 'yc-icon', name: 'chevron-left' %}
          </button>
          <div class="title">
            <a href="{{ product.url }}" class="link h4">
              {{ product.name }}
            </a>
          </div>
        </div>
        <div class="content">
          <yc-product-media>
            <div class="main-image">
              {% if product.thumbnail %}
                <img
                  src="{{ product.thumbnail }}"
                  alt="{{ product.name }}"
                  loading="lazy"
                  height="100%"
                  width="100%"
                >
              {% else %}
                <div class="card-placeholder">
                  {% render 'yc-placeholder', name: 'product' %}
                </div>
              {% endif %}
            </div>
          </yc-product-media>
          <yc-product-info>
            <div class="core-info">
              {% render 'product-rating', rating: product.averageRating, show_avg_rating: true %}
              <div class="price-info">
                <p class="current h2" data-product-item="price">
                  {{ product.price | default: 0 | money }}
                </p>
                <p
                  class="compare-at h3"
                  data-product-item="compare-at-price"
                  {% if compare_at_price == null %}
                    hidden
                  {% endif %}
                >
                  {{ product.compare_at_price | default: 0 | money }}
                </p>
              </div>
              {% render 'product-variants' %}
            </div>
            {% render 'product-add-to-cart',
              source: 'quick-view',
              variant_id: product.variants[0].id,
              available: product.selected_or_first_available_variant.available
            %}
          </yc-product-info>
        </div>
      </div>
    </yc-modal-content>
  </yc-modal>
</yc-product>

{% javascript %}
  const productVariants = JSON.parse({{ product.variants | json }})
{% endjavascript %}
