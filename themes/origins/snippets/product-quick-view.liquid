<div class="product-quick-view">
  <yc-modal style="--modal-width: 60%">
    <button class="secondary" data-trigger>
      {{ 'general.choose_options' | t }}
    </button>
    <yc-modal-content>
      <div class="view-box">
        <div class="head">
          <button class="icon" data-trigger>
            {% render 'yc-icon', name: 'chevron-left' %}
          </button>
          <div class="title">
            <a href="{{ product.url }}" class="link h4">
              {{ product.name }}
            </a>
          </div>
        </div>
        <div class="content">
          <yc-product-media>
            <div class="main-image">
              {% if product.thumbnail %}
                <img
                  src="{{ product.thumbnail }}"
                  alt="{{ product.name }}"
                  loading="lazy"
                  height="100%"
                  width="100%"
                >
              {% else %}
                <div class="card-placeholder">
                  {% render 'yc-placeholder', name: 'product' %}
                </div>
              {% endif %}
            </div>
          </yc-product-media>
          <yc-product-info>
            <div class="core-info">
              {% render 'product-rating', rating: product.averageRating, show_avg_rating: true %}
              <div class="price-info">
                <p class="current h2">{{ product.price | default: 0 | money }}</p>
                {% if product.compare_at_price != null %}
                  <p class="compare-at h3">
                    {{ product.compare_at_price | default: 0 | money }}
                  </p>
                {% endif %}
              </div>
              <div class="variants">
                {% for variant in product.options %}
                  <div class="variant">
                    <span class="label">{{ variant.name }}:</span>
                    {% if variant.type == 'textual_buttons' %}
                      {% render 'variant-toggle', name: variant.name, options: variant.values %}
                    {% elsif variant.type == 'radio_buttons' %}
                      {% render 'variant-radio', name: variant.name, options: variant.values %}
                    {% elsif variant.type == 'color_base_buttons' %}
                      {% render 'variant-color', name: variant.name, options: variant.values %}
                    {% elsif variant.type == 'dropdown' %}
                      {% render 'variant-dropdown', name: variant.name, options: variant.values %}
                    {% elsif variant.type == 'image_based_buttons' %}
                      {% render 'variant-image', name: variant.name, options: variant.values %}
                    {% elsif variant.type == 'upload_image_zone' %}
                      {% render 'variant-upload', name: variant.name %}
                    {% endif %}
                  </div>
                {% endfor %}
              </div>
            </div>
            <yc-product-form
              quantity="1"
              variant-id="{{ product.variants[0].id  }}"
            >
              {% render 'yc-quantity-control', variant: product %}
              <button class="primary" data-buy-button>
                <span>
                  {{ 'general.add_to_cart' | t }}
                </span>
              </button>
            </yc-product-form>
          </yc-product-info>
        </div>
      </div>
    </yc-modal-content>
  </yc-modal>
</div>
