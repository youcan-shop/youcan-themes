{% comment %}
  Quantity input

  Accepts:
  - product: {Object} Cart item liquid object
  - button_size: {String} (optional) 'sm', 'md' or 'lg'
  - inventory: {Number} Available products

  Usage:
  {% render 'yc-quantity-input' product: product, button_size: 'md' %}
{% endcomment %}

{% assign quantity = 1 %}

{% if product.quantity != null %}
  {% assign quantity = product.quantity %}
{% endif %}

<yc-quantity-control
  class="quantity cart-quantity"
  item="{{ product.id }}"
  product-variant="{{ product.product_variant_id }}"
  {% if inventory %}
    inventory="{{ inventory }}"
  {% endif %}
  quantity="{{ quantity }}"
  data-cart-item="quantity"
>
  <button
    class="yc-btn icon"
    name="minus"
    data-size="{{ button_size | default: 'md' }}"
    type="button"
    aria-label="decrease"
  >
    {% render 'yc-icon', name: 'minus' %}
  </button>
  <div class="current-quantity">
    <span data-current-quantity>
      {{- quantity -}}
    </span>
  </div>
  <button
    class="yc-btn icon"
    name="plus"
    data-size="{{ button_size | default: 'md' }}"
    type="button"
    aria-label="increase"
  >
    {% render 'yc-icon', name: 'plus' %}
  </button>
</yc-quantity-control>
