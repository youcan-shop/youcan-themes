{% comment %}
  Renders an 'Add to cart' button (usually used in featured & single product sections)

  Accepts:
  - variant_id:  Default variant id
  - available:  Default variant availability
  - source:  (Optional) Parent source 'product-form', 'quick-view'

  Usage:
  {% render 'yc-add-to-cart', variant_id: '045-dj8-30k-ws7', available: true %}
{% endcomment %}

<yc-product-form
  quantity="1"
  variant-id="{{ variant_id }}"
  {% unless available %}
    not-available
  {% endunless %}
  {% if source %}
    source="{{ source }}"
  {% endif %}
>
  {% render 'yc-quantity-control', product: product %}
  <button
    name="add"
    data-buy-button
    class="primary"
    {% unless available %}
      disabled
    {% endunless %}
  >
    <span
      data-add-to-cart="{{ 'general.add_to_cart' | t }}"
      data-out-of-stock="{{ 'general.out_of_stock' | t }}"
    >
    </span>
  </button>
</yc-product-form>
