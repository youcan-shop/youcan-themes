@import "mixins/breakpoints";

.product-quick-view {
  --product-image-height: 400px;
  --product-image-border: 1px solid color-mix(in srgb, currentColor 5%, transparent);
  --quick-view-bg-color: var(--section-bg-color, var(--color-base-white));
  --quick-view-text-color: rgb(var(--section-text-color, var(--color-base-black)));

  .view-box {
    .head {
      padding: 1em;
      display: grid;
      align-items: center;
      grid-template-columns: repeat(3, 1fr);
      border-block-end: 1px solid color-mix(in srgb, currentColor 8%, transparent);

      .title {
        width: 100%;
        text-align: center;

        a {
          max-width: 100%;
          overflow: hidden;
          text-align: center;
          width: fit-content;
          text-align: center;
          white-space: nowrap;
          text-overflow: ellipsis;
          color: var(--quick-view-text-color);
        }
      }

      button[data-trigger] {
        width: fit-content;
      }
    }

    .content {
      padding: 1em;
      display: grid;
      gap: var(--gap-2xl);
      grid-template-columns: repeat(2, 1fr);

      yc-product-info {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: var(--gap-lg);

        .core-info {
          display: flex;
          gap: var(--gap-md);
          flex-direction: column;

          .variants {
            display: flex;
            gap: var(--gap-lg);
            flex-direction: column;

            .variant {
              display: flex;
              gap: var(--gap-sm);
              flex-direction: column;

              .label {
                font-size: var(--text-md);
                color: color-mix(in srgb, currentColor 70%, transparent);
              }
            }
          }

          .price-info {
            display: flex;
            align-items: center;
            gap: var(--gap-md);

            .current {
              font-weight: 550;
            }

            .compare-at {
              text-decoration: line-through;
              color: color-mix(in srgb, currentColor 70%, transparent);
            }
          }
        }

        yc-product-form {
          display: flex;
          gap: var(--gap-md);
          align-items: center;

          button[data-buy-button] {
            width: 100%;
            color: var(--quick-view-bg-color);
            border-color: var(--quick-view-text-color);
            background-color: var(--quick-view-text-color);

            span::before {
              content: attr(data-add-to-cart);
            }
          }

          &[out-of-stock] button {
            span::before {
              content: attr(data-out-of-stock);
            }
          }
        }
      }

      yc-product-media {
        .main-image {
          width: 100%;
          overflow: hidden;
          position: relative;
          border-radius: var(--radius-md);
          height: var(--product-image-height);
          border: var(--product-image-border);

          img {
            height: 100%;
            object-fit: cover;
            user-select: none;
          }

          .placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: color-mix(in srgb, currentColor 20%, transparent);
            background-color: color-mix(in srgb, currentColor 5%, transparent);
          }
        }
      }
    }
  }
}

@include breakpoint("lg") {
  .product-quick-view {
    yc-modal {
      --modal-width: 90% !important;
    }
  }
}

@include breakpoint("sm") {
  .product-quick-view {
    --product-image-height: 300px;

    .view-box {
      .head {
        padding-block-start: 0;

        button {
          padding: 8px;

          svg {
            width: 15px;
            height: 15px;
          }
        }
      }

      .content {
        grid-template-columns: 1fr;
      }
    }
  }
}
